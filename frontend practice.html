<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Auth â€” Login & Register</title>
  <style>
    :root{
      --bg: #0f172a;        /* slate-900 */
      --panel: #111827;     /* gray-900 */
      --muted: #94a3b8;     /* slate-400 */
      --text: #e5e7eb;      /* gray-200 */
      --accent: #4f46e5;    /* indigo-600 */
      --accent-2:#6366f1;   /* indigo-500 */
      --danger:#ef4444;     /* red-500 */
      --ok:#22c55e;         /* green-500 */
      --ring: rgba(99,102,241,.35);
      --shadow: 0 20px 50px rgba(0,0,0,.35);
      --radius: 20px;
    }

    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 20% 0%, rgba(79,70,229,.15), transparent 60%),
                  radial-gradient(1000px 800px at 100% 100%, rgba(79,70,229,.12), transparent 60%),
                  var(--bg);
      color:var(--text);
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding: 32px 16px;
    }

    .card{
      width:100%;
      max-width: 820px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.06);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      overflow:hidden;
      display:grid;
      grid-template-columns: 1.2fr 1fr;
    }

    @media (max-width: 840px){
      .card{grid-template-columns: 1fr}
      .side{display:none}
    }

    .side{
      padding: 36px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="%234f46e5" stop-opacity="0.6"/><stop offset="100%" stop-color="%236366f1" stop-opacity="0.4"/></linearGradient></defs><g><circle cx="200" cy="200" r="180" fill="url(%23g)"/><circle cx="650" cy="100" r="120" fill="url(%23g)"/><circle cx="600" cy="480" r="160" fill="url(%23g)"/></g></svg>') center/cover no-repeat, linear-gradient(135deg, rgba(79,70,229,.15), rgba(79,70,229,.05));
      border-right: 1px solid rgba(255,255,255,.06);
    }

    .side h1{margin:0 0 12px;font-size:38px;line-height:1.1}
    .side p{margin:0;color:var(--muted)}

    .pane{padding: 32px 28px}

    .tabs{
      display:flex;
      gap:8px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius: 12px;
      padding:6px;
      width:fit-content;
      margin: 0 0 22px;
    }

    .tab{
      border:none;
      background:transparent;
      color:var(--muted);
      padding:10px 14px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      transition: all .2s ease;
    }
    .tab.active{
      background: #0b1220;
      color:var(--text);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 0 0 4px var(--ring);
    }

    form{
      display:grid;
      gap:14px;
      margin-top:4px;
      animation: fade .25s ease;
    }

    @keyframes fade{from{opacity:0; transform: translateY(6px)} to{opacity:1; transform: none}}

    label{font-size:14px;color:var(--muted)}

    .field{display:grid; gap:6px}

    .input{
      width:100%;
      padding: 12px 14px;
      background: #0b1220;
      color: var(--text);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 12px;
      outline: none;
      transition: box-shadow .2s, border-color .2s;
    }
    .input:focus{ box-shadow: 0 0 0 4px var(--ring); border-color: var(--accent-2) }

    .row{display:flex; gap:12px}
    .row .field{flex:1}

    .help{font-size:12px;color:var(--muted)}

    .actions{display:flex; align-items:center; justify-content:space-between; margin-top:6px}

    .btn{
      appearance:none; border:none; cursor:pointer; font-weight:700;
      padding:12px 16px; border-radius:12px; background: linear-gradient(180deg, var(--accent), var(--accent-2)); color:white;
      box-shadow: 0 10px 25px rgba(99,102,241,.35);
      transition: transform .05s ease;
    }
    .btn:active{ transform: translateY(1px) }

    .ghost{ background: transparent; color:var(--text); box-shadow:none; border:1px solid rgba(255,255,255,.12) }

    .inline{display:flex; align-items:center; gap:8px}

    .error{color:var(--danger); font-size:12px}
    .success{color:var(--ok); font-size:12px}

    .toggle-pass{ position:absolute; right:10px; top:50%; transform: translateY(-50%); background: none; border:none; color: var(--muted); cursor:pointer; font-size:12px }

    .pass-wrap{ position:relative }

    .divider{ display:flex; align-items:center; gap:10px; margin: 10px 0 }
    .divider::before, .divider::after{ content:""; height:1px; background: rgba(255,255,255,.12); flex:1 }

    .footer{ margin-top: 14px; font-size:12px; color:var(--muted) }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <div class="side">
        <h1>Welcome back ðŸ‘‹</h1>
        <p>Sign in to continue, or create an account to get started. This demo uses only frontâ€‘end code.</p>
      </div>

      <div class="pane">
        <div class="tabs" role="tablist" aria-label="Authentication tabs">
          <button class="tab active" role="tab" aria-selected="true" id="tab-login">Login</button>
          <button class="tab" role="tab" aria-selected="false" id="tab-register">Register</button>
        </div>

        <!-- LOGIN FORM -->
        <form id="login-form" autocomplete="on" novalidate>
          <div class="field">
            <label for="login-email">Email</label>
            <input type="email" id="login-email" class="input" placeholder="you@example.com" required />
          </div>

          <div class="field pass-wrap">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" class="input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" minlength="6" required />
            <button type="button" class="toggle-pass" data-target="login-password">Show</button>
          </div>

          <div class="actions">
            <label class="inline"><input type="checkbox" id="remember" /> Remember me</label>
            <a href="#" class="help" id="forgot">Forgot password?</a>
          </div>

          <button class="btn" type="submit">Sign in</button>
          <div id="login-msg" aria-live="polite"></div>

          <div class="divider"><span class="help">or</span></div>
          <button class="btn ghost" type="button" id="to-register">Create a new account</button>
        </form>

        <!-- REGISTER FORM -->
        <form id="register-form" autocomplete="on" novalidate style="display:none">
          <div class="row">
            <div class="field">
              <label for="first">First name</label>
              <input id="first" class="input" placeholder="Sosina" required />
            </div>
            <div class="field">
              <label for="last">Last name</label>
              <input id="last" class="input" placeholder="Tamagne" required />
            </div>
          </div>

          <div class="field">
            <label for="email">Email</label>
            <input type="email" id="email" class="input" placeholder="you@example.com" required />
          </div>

          <div class="row">
            <div class="field pass-wrap">
              <label for="password">Password</label>
              <input type="password" id="password" class="input" placeholder="At least 6 characters" minlength="6" required />
              <button type="button" class="toggle-pass" data-target="password">Show</button>
            </div>
            <div class="field pass-wrap">
              <label for="confirm">Confirm password</label>
              <input type="password" id="confirm" class="input" placeholder="Repeat password" minlength="6" required />
              <button type="button" class="toggle-pass" data-target="confirm">Show</button>
            </div>
          </div>

          <label class="inline"><input type="checkbox" id="terms" required /> I agree to the Terms</label>

          <button class="btn" type="submit">Create account</button>
          <div id="register-msg" aria-live="polite"></div>

          <div class="footer">By continuing you accept our Terms and Privacy Policy.</div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Tab switching
    const tabLogin = document.getElementById('tab-login');
    const tabRegister = document.getElementById('tab-register');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');

    function showLogin(){
      tabLogin.classList.add('active');
      tabLogin.setAttribute('aria-selected','true');
      tabRegister.classList.remove('active');
      tabRegister.setAttribute('aria-selected','false');
      loginForm.style.display='grid';
      registerForm.style.display='none';
    }
    function showRegister(){
      tabRegister.classList.add('active');
      tabRegister.setAttribute('aria-selected','true');
      tabLogin.classList.remove('active');
      tabLogin.setAttribute('aria-selected','false');
      loginForm.style.display='none';
      registerForm.style.display='grid';
    }
    tabLogin.addEventListener('click', showLogin);
    tabRegister.addEventListener('click', showRegister);
    document.getElementById('to-register').addEventListener('click', showRegister);

    // Password visibility toggle
    document.querySelectorAll('.toggle-pass').forEach(btn =>{
      btn.addEventListener('click', () =>{
        const id = btn.getAttribute('data-target');
        const input = document.getElementById(id);
        const isPassword = input.getAttribute('type') === 'password';
        input.setAttribute('type', isPassword ? 'text':'password');
        btn.textContent = isPassword ? 'Hide' : 'Show';
        input.focus();
      })
    })

    // Util helpers
    const emailOk = (e)=> /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(e);

    // Fake DB using localStorage (demo only!)
    const DB_KEY = 'demo_users_v1';
    const loadUsers = ()=> JSON.parse(localStorage.getItem(DB_KEY) || '[]');
    const saveUsers = (users)=> localStorage.setItem(DB_KEY, JSON.stringify(users));

    // Register handler
    const regMsg = document.getElementById('register-msg');
    document.getElementById('register-form').addEventListener('submit', (ev)=>{
      ev.preventDefault();
      regMsg.textContent='';

      const first = document.getElementById('first').value.trim();
      const last = document.getElementById('last').value.trim();
      const email = document.getElementById('email').value.trim().toLowerCase();
      const pass = document.getElementById('password').value;
      const confirm = document.getElementById('confirm').value;
      const terms = document.getElementById('terms').checked;

      if(!first || !last){ return msg(regMsg, 'Please fill your name.', true); }
      if(!emailOk(email)){ return msg(regMsg, 'Enter a valid email.', true); }
      if(pass.length < 6){ return msg(regMsg, 'Password must be at least 6 characters.', true); }
      if(pass !== confirm){ return msg(regMsg, 'Passwords do not match.', true); }
      if(!terms){ return msg(regMsg, 'You must agree to the Terms.', true); }

      const users = loadUsers();
      if(users.some(u=>u.email === email)){
        return msg(regMsg, 'This email is already registered.', true);
      }

      users.push({ first, last, email, pass });
      saveUsers(users);
      msg(regMsg, 'Account created! You can sign in now.', false);
      showLogin();
    });

    // Login handler
    const loginMsg = document.getElementById('login-msg');
    document.getElementById('login-form').addEventListener('submit', (ev)=>{
      ev.preventDefault();
      loginMsg.textContent='';

      const email = document.getElementById('login-email').value.trim().toLowerCase();
      const pass = document.getElementById('login-password').value;

      if(!emailOk(email)){ return msg(loginMsg, 'Enter a valid email.', true); }
      if(pass.length < 6){ return msg(loginMsg, 'Invalid password.', true); }

      const users = loadUsers();
      const user = users.find(u=>u.email === email && u.pass === pass);

      if(!user){ return msg(loginMsg, 'Email or password is incorrect.', true); }

      const remember = document.getElementById('remember').checked;
      const session = { email: user.email, name: user.first + ' ' + user.last, ts: Date.now() };
      sessionStorage.setItem('session_user', JSON.stringify(session));
      if(remember){ localStorage.setItem('session_user', JSON.stringify(session)); }

      msg(loginMsg, `Welcome, ${user.first}! You are signed in.`, false);
    });

    function msg(el, text, isError){
      el.className = isError ? 'error':'success';
      el.textContent = text;
    }

    // Auto-restore session (demo)
    const saved = JSON.parse(localStorage.getItem('session_user')||'null');
    if(saved){
      msg(document.getElementById('login-msg'), `Welcome back, ${saved.name}!`, false);
    }
  </script>
</body>
</html>
